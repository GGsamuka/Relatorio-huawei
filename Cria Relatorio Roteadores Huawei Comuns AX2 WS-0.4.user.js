// ==UserScript==
// @name         Cria Relatorio Roteadores Huawei Comuns AX2 WS
// @namespace    http://tampermonkey.net/
// @version      1.1
// @description  try to take over the world!
// @match        https://*/html/index.html
// @icon         https://www.google.com/s2/favicons?sz=64&domain=gegnet.com.br
// @license      MIT
// @downloadURL  https://github.com/wrGGsiq/scriptsGG/raw/main/Cria%20Relatorio%20Roteadores%20Huawei%20Comuns%20AX2%20WS-0.4.user.js
// @updateURL    https://github.com/wrGGsiq/scriptsGG/raw/main/updates/Cria%20Relatorio%20Roteadores%20Huawei%20Comuns%20AX2%20WS.meta.js
// @grant        GM_setClipboard
// @grant        GM_xmlhttpRequest
// ==/UserScript==

var _0xad8dce=_0x49da;function _0x22a0(){var _0x43e149=['Habilitado\x20no\x20padrão','empty','/api/','HUAWEI\x20WiFi\x20AX2','Habilitado','Habilitado\x20em\x20','\x0aConfigurações\x20do\x20roteador:\x0aCliente\x20possui\x20um\x20','5GHz','231392AkuPsc','cookie','floor','https://','1\x20minuto','no\x20canal\x20','dispositivosAtivos','hostname','\x20segundos','\x20horas','system/diagnose_wlan_basic?type=1','\x0aEquipamentos\x20conectados\x20no\x20momento:\x20','indexOf','UpTime','largura_banda','json','\x0aIPv6\x20','pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7','1015612UFwSFS','HUAWEI\x20WiFi\x20WS5200','then','includes','\x20dias','JSON','1\x20hora','187.85.152.11','Layer2Interface','Active','system/deviceinfo','\x20e\x20largura\x20em\x20','AutoChannelEnable','10eShIOx','Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/121.0.0.0\x20Safari/537.36\x20OPR/107.0.0.0','XMLHttpRequest','html/index.html','keep-alive','3562jcwKlk','\x22Windows\x22','same-origin','DbhoEnable','length','canal','LAN','ntwk/ipv6_wan','location','href','stringify','795690Teyvtw','1\x20segundo','\x20MHz','2.0.0.505(C947)','437244HyBjIx','\x0aRede\x202.4\x20','\x0aPriorizar\x205G\x20','SoftwareVersion','2.4GHz','\x20|\x20wifi:\x20','FriendlyName','disposirivosViaWifi5G','Habilitado\x20(','Desabilitado','shift','\x20(cabo:\x20','520SoNRrR','InterfaceType','ntwk/ipv6_enable','ntwk/WlanGuideBasic?type=notshowpassall','application/json,\x20text/javascript,\x20*/;\x20q=0.01','em\x20auto','disposriviosViaCabo','ntwk/wan?type=active','gzip,\x20deflate,\x20br','498iQkHDu','138123hXptfL','2.0.0.322(SP1C1653)','cors','\x0aUPnP\x20','split','275700dprqGx',')\x0aUptime:\x20','Frequency','filter','187.85.152.10','\x20minutos','home','system/diagnose_wlan_basic?type=2','pop','ntwk/lan_upnp','\x0aRede\x205G\x20'];_0x22a0=function(){return _0x43e149;};return _0x22a0();}(function(_0x360caa,_0x3e824c){var _0x5b4a33=_0x49da,_0x296d91=_0x360caa();while(!![]){try{var _0x53627f=-parseInt(_0x5b4a33(0xbe))/0x1+parseInt(_0x5b4a33(0x94))/0x2(-parseInt(_0x5b4a33(0xb8))/0x3)+-parseInt(_0x5b4a33(0x82))/0x4+-parseInt(_0x5b4a33(0x8f))/0x5*(-parseInt(_0x5b4a33(0xa3))/0x6)+parseInt(_0x5b4a33(0x9f))/0x7+-parseInt(_0x5b4a33(0x70))/0x8+-parseInt(_0x5b4a33(0xb9))/0x9*(-parseInt(_0x5b4a33(0xaf))/0xa);if(_0x53627f===_0x3e824c)break;else _0x296d91['push'](_0x296d91['shift']());}catch(_0x4cc85f){_0x296d91['push'](_0x296d91['shift']());}}}(_0x22a0,0x31a19));function getCookie(_0x2536e4){var _0x2dd5b5=_0x49da,_0x39680d=';\x20'+document[_0x2dd5b5(0x71)],_0x17267d=_0x39680d[_0x2dd5b5(0xbd)](';\x20'+_0x2536e4+'=');if(_0x17267d[_0x2dd5b5(0x98)]==0x2)return _0x17267d[_0x2dd5b5(0xc6)]()['split'](';')[_0x2dd5b5(0xad)]();}var ip=window[_0xad8dce(0x9c)][_0xad8dce(0x77)],url=_0xad8dce(0x73)+ip+'/',url_api='https://'+ip+_0xad8dce(0xcb),MODELO=null,headers={'Accept':_0xad8dce(0xb3),'Accept-Encoding':_0xad8dce(0xb7),'Accept-Language':_0xad8dce(0x81),'Connection':_0xad8dce(0x93),'Host':ip,'Referer':url+_0xad8dce(0x92),'Sec-Fetch-Dest':_0xad8dce(0xca),'Sec-Fetch-Mode':_0xad8dce(0xbb),'Sec-Fetch-Site':_0xad8dce(0x96),'User-Agent':_0xad8dce(0x90),'X-Requested-With':_0xad8dce(0x91),'_ResponseFormat':_0xad8dce(0x87),'sec-ch-ua':'\x22Not\x20A(Brand\x22;v=\x2299\x22,\x20\x22Opera\x20GX\x22;v=\x22107\x22,\x20\x22Chromium\x22;v=\x22121\x22','sec-ch-ua-mobile':'?0','sec-ch-ua-platform':_0xad8dce(0x95)};function getUptime(){var _0x4d3a59=_0xad8dce;let _0x2b9c45=_0x4d3a59(0x8c),_0x2fd952=url_api+_0x2b9c45;return fetch(_0x2fd952,{'headers':headers})['then'](_0xa502f4=>_0xa502f4[_0x4d3a59(0x7f)]()[_0x4d3a59(0x84)](_0x31886f=>{var _0x49b8ab=_0x4d3a59;if(_0x31886f[_0x49b8ab(0x7d)]>=0x15180){const _0x5846f6=Math[_0x49b8ab(0x72)](_0x31886f['UpTime']/0x15180);return _0x5846f6===0x1?'1\x20dia':_0x5846f6+_0x49b8ab(0x86);}else{if(_0x31886f[_0x49b8ab(0x7d)]>=0xe10){const _0x45d07e=Math[_0x49b8ab(0x72)](_0x31886f[_0x49b8ab(0x7d)]/0xe10);return _0x45d07e===0x1?_0x49b8ab(0x88):_0x45d07e+_0x49b8ab(0x79);}else{if(_0x31886f[_0x49b8ab(0x7d)]>=0x3c){const _0x1bc7ce=Math['floor'](_0x31886f[_0x49b8ab(0x7d)]/0x3c);return _0x1bc7ce===0x1?_0x49b8ab(0x74):_0x1bc7ce+_0x49b8ab(0xc3);}else return _0x31886f[_0x49b8ab(0x7d)]===0x1?_0x49b8ab(0xa0):_0x31886f[_0x49b8ab(0x7d)]+_0x49b8ab(0x78);}}}));}function getWAN(){var _0x299b52=_0xad8dce,_0xf134bb=_0x299b52(0xb6),_0x857b82=url_api+_0xf134bb;return fetch(_0x857b82,{'headers':headers})[_0x299b52(0x84)](_0x9b78da=>_0x9b78da[_0x299b52(0x7f)]()[_0x299b52(0x84)](_0x224732=>{var _0x29b592=_0x299b52;return _0x224732['DNSOverrideAllowed']===!![]?_0x224732['IPv4DnsServers'][_0x29b592(0xbd)](','):![];}));}function getUPnPStatus(){var _0x34627c=_0xad8dce,_0x530c20=url_api+_0x34627c(0xc7);return fetch(_0x530c20,{'headers':headers})['then'](_0x48a589=>_0x48a589[_0x34627c(0x7f)]())['then'](_0x271cd6=>_0x271cd6['enable']);}function getRedesInfo24GHz(){var _0x154482=_0xad8dce,_0x43eba5=url_api+_0x154482(0x7a);return fetch(_0x43eba5,{'headers':headers})['then'](_0x53d748=>_0x53d748[_0x154482(0x7f)]())['then'](_0x3f9b58=>({'canal':_0x3f9b58[_0x154482(0x8e)]?'em\x20auto':'no\x20canal\x20'+_0x3f9b58['Channel'],'largura_banda':_0x3f9b58['Bandwidth']+_0x154482(0xa1)}));}function _0x49da(_0x3d2dd9,_0x238397){var _0x22a0c2=_0x22a0();return _0x49da=function(_0x49da73,_0x10474b){_0x49da73=_0x49da73-0x6b;var _0x5c4854=_0x22a0c2[_0x49da73];return _0x5c4854;},_0x49da(_0x3d2dd9,_0x238397);}function getRedesInfo5GHz(){var _0x5e43e9=_0xad8dce,_0x1f189a=url_api+_0x5e43e9(0xc5);return fetch(_0x1f189a,{'headers':headers})['then'](_0x533275=>_0x533275[_0x5e43e9(0x7f)]())[_0x5e43e9(0x84)](_0x3db1ca=>({'canal':_0x3db1ca[_0x5e43e9(0x8e)]?_0x5e43e9(0xb4):_0x5e43e9(0x75)+_0x3db1ca['Channel'],'largura_banda':_0x3db1ca['Bandwidth']+_0x5e43e9(0xa1)}));}async function getDeviceInfo(){var _0x633df=_0xad8dce,_0xb8fc1b=url_api+_0x633df(0x8c);const _0x46c856=await fetch(_0xb8fc1b,{'headers':headers})['then'](_0x263c1e=>_0x263c1e[_0x633df(0x7f)]())[_0x633df(0x84)](_0x1b8b3d=>[_0x1b8b3d[_0x633df(0xa9)],_0x1b8b3d[_0x633df(0xa6)]]);return MODELO=_0x46c856[0x0],_0x46c856;}async function ConectadosNoMomento(){var _0x2d563b=_0xad8dce,_0x2cdc75=url_api+'system/HostInfo';return await fetch(_0x2cdc75,{'headers':headers})[_0x2d563b(0x84)](_0x45379f=>_0x45379f[_0x2d563b(0x7f)]())[_0x2d563b(0x84)](_0x3c3c8b=>{var _0x27814d=_0x2d563b;let _0x783ea6=_0x3c3c8b[_0x27814d(0xc1)](_0x289d3e=>_0x289d3e[_0x27814d(0x8b)]===!![])[_0x27814d(0x98)];if(MODELO!='HUAWEI\x20WiFi\x20WS5200'){const _0x53005f=_0x3c3c8b[_0x27814d(0xc1)](_0x42f251=>_0x42f251[_0x27814d(0xb0)]=='2.4GHz'&&_0x42f251['Active']===!![])[_0x27814d(0x98)],_0x5c00e9=_0x3c3c8b[_0x27814d(0xc1)](_0x580df5=>_0x580df5[_0x27814d(0xb0)]==_0x27814d(0x6f)&&_0x580df5[_0x27814d(0x8b)]===!![])[_0x27814d(0x98)],_0x2cdfc6=_0x3c3c8b[_0x27814d(0xc1)](_0xfb0547=>_0xfb0547[_0x27814d(0xb0)]==_0x27814d(0x9a)&&_0xfb0547[_0x27814d(0x8b)]===!![])[_0x27814d(0x98)],_0x5a9625=_0x3c3c8b[_0x27814d(0xc1)](_0x332934=>_0x332934[_0x27814d(0x8b)]===![])[_0x27814d(0x98)];return{'dispositivosAtivos':_0x783ea6,'disposirivosViaWifi2G':_0x53005f,'disposirivosViaWifi5G':_0x5c00e9,'disposriviosViaCabo':_0x2cdfc6,'ListadispositivosOffline':_0x5a9625};}else{const _0x286876=_0x3c3c8b[_0x27814d(0xc1)](_0x481994=>_0x481994[_0x27814d(0xc0)]==_0x27814d(0xa7)&&_0x481994['Active']===!![])[_0x27814d(0x98)],_0x1c4443=_0x3c3c8b[_0x27814d(0xc1)](_0x3f2e0e=>_0x3f2e0e['Frequency']==_0x27814d(0x6f)&&_0x3f2e0e[_0x27814d(0x8b)]===!![])[_0x27814d(0x98)];let _0x33f512=_0x3c3c8b[_0x27814d(0xc1)](_0x579d55=>_0x579d55['Layer2Interface'][_0x27814d(0x85)](_0x27814d(0x9a))&&_0x579d55[_0x27814d(0x8b)]===!![])[_0x27814d(0x98)];_0x33f512==0x0&&(_0x33f512=_0x3c3c8b['filter'](_0x4b96b7=>_0x4b96b7[_0x27814d(0x8a)][_0x27814d(0x85)](_0x27814d(0x9a))&&_0x4b96b7[_0x27814d(0x8b)]===!![])['length']);const _0x16be95=_0x3c3c8b[_0x27814d(0xc1)](_0xe15d4f=>_0xe15d4f['Active']===![])[_0x27814d(0x98)];return{'dispositivosAtivos':_0x783ea6,'disposirivosViaWifi2G':_0x286876,'disposirivosViaWifi5G':_0x1c4443,'disposriviosViaCabo':_0x33f512,'ListadispositivosOffline':_0x16be95};}});}function getIPV6status(){var _0x5531a1=_0xad8dce,_0x3c54a9=url_api+_0x5531a1(0xb1);return fetch(_0x3c54a9,{'headers':headers})[_0x5531a1(0x84)](_0x41c485=>_0x41c485['json']())[_0x5531a1(0x84)](_0x5b6f75=>{var _0x4189b5=_0x5531a1;if(_0x5b6f75['Enable']===0x1){var _0x24d24d=url_api+_0x4189b5(0x9b);return fetch(_0x24d24d,{'headers':headers})[_0x4189b5(0x84)](_0x58f22e=>_0x58f22e[_0x4189b5(0x7f)]())[_0x4189b5(0x84)](_0x16e5b8=>_0x16e5b8['X_IPv6AddressingType']);}else return![];});}function getPriorizar5G(){var _0x1707a3=_0xad8dce,_0x2085bd=url_api+_0x1707a3(0xb2);return fetch(_0x2085bd,{'headers':headers})[_0x1707a3(0x84)](_0x3d3432=>_0x3d3432[_0x1707a3(0x7f)]())[_0x1707a3(0x84)](_0x142fe1=>_0x142fe1[_0x1707a3(0x97)]);}function analiseRouter(_0x529be3,_0x3eb3e5){var _0x12d5f5=_0xad8dce;let _0xeb193c='';_0x529be3==_0x12d5f5(0x6b)&&_0x3eb3e5!=_0x12d5f5(0xba)&&(_0xeb193c+='Atualizar\x20roteador\x20para\x202.0.0.322(SP1C1653)\x0a');if(_0x529be3==_0x12d5f5(0x83)&&_0x3eb3e5==_0x12d5f5(0xa2)&&_0x3eb3e5[_0x12d5f5(0x85)]('C506')==![])_0xeb193c+='Atualizar\x20roteador\x20para\x2010.0.5.7(C947)\x0a';else _0x529be3==_0x12d5f5(0x83)&&_0x3eb3e5=='10.0.5.9(C506)'&&(_0xeb193c+='Atualizar\x20roteador\x20para\x2010.0.5.10(C506demo)\x0a');return _0xeb193c;}async function constructScript(){var _0x2b822d=_0xad8dce;Promise['all']([await getDeviceInfo(),await ConectadosNoMomento(),await getWAN(),await getUPnPStatus(),await getRedesInfo24GHz(),await getRedesInfo5GHz(),await getIPV6status(),await getPriorizar5G(),await getUptime()])[_0x2b822d(0x84)](_0x3323a4=>{var _0x1a6216=_0x2b822d,_0x534dd0=_0x3323a4[0x0],_0x3856f1=_0x3323a4[0x1],_0x1104b3=_0x3323a4[0x3],_0x1415d2=_0x3323a4[0x4],_0x49ce30=_0x3323a4[0x5],_0x2cc930=_0x3323a4[0x6],_0x24d509=_0x3323a4[0x7],_0x4b85e9=_0x3323a4[0x8],_0x2d26e9,_0x4c2ba6=[_0x1a6216(0xc2),_0x1a6216(0x89)];if(_0x3323a4[0x2]!==![]&&JSON[_0x1a6216(0x9e)](_0x3323a4[0x2])===JSON['stringify'](_0x4c2ba6))_0x2d26e9=_0x1a6216(0xc9);else _0x3323a4[0x2]!==![]&&JSON[_0x1a6216(0x9e)](_0x3323a4[0x2])!==JSON[_0x1a6216(0x9e)](_0x4c2ba6)?_0x2d26e9=_0x1a6216(0xab)+_0x3323a4[0x2][0x0]+',\x20'+_0x3323a4[0x2][0x1]+')':_0x2d26e9=_0x1a6216(0xac);var _0x5183fd=_0x1a6216(0x6e)+_0x534dd0[0x0]+'\x20'+_0x534dd0[0x1]+'\x0aDNS\x20WAN\x20'+_0x2d26e9+'\x0aDNS\x20LAN\x20'+_0x2d26e9+_0x1a6216(0xa5)+(_0x24d509?'Habilitado':_0x1a6216(0xac))+_0x1a6216(0x80)+(_0x2cc930?_0x1a6216(0x6d)+_0x2cc930:_0x1a6216(0xac))+_0x1a6216(0xbc)+(_0x1104b3?_0x1a6216(0x6c):_0x1a6216(0xac))+_0x1a6216(0xa4)+_0x1415d2[_0x1a6216(0x99)]+_0x1a6216(0x8d)+_0x1415d2[_0x1a6216(0x7e)]+_0x1a6216(0xc8)+_0x49ce30[_0x1a6216(0x99)]+_0x1a6216(0x8d)+_0x49ce30[_0x1a6216(0x7e)]+_0x1a6216(0x7b)+_0x3856f1[_0x1a6216(0x76)]+_0x1a6216(0xae)+_0x3856f1[_0x1a6216(0xb5)]+_0x1a6216(0xa8)+(_0x3856f1['disposirivosViaWifi2G']+_0x3856f1[_0x1a6216(0xaa)])+_0x1a6216(0xbf)+_0x4b85e9;_0x5183fd+='\x0a\x0a'+analiseRouter(_0x534dd0[0x0],_0x534dd0[0x1]),console['log']('[!]\x20Copiado\x20para\x20área\x20de\x20Transferência'),GM_setClipboard(_0x5183fd),console['log'](_0x5183fd);});}function delay(_0x4fef62){return new Promise(_0x445a54=>setTimeout(_0x445a54,_0x4fef62));}async function executeRepeatedly(){var _0xd7df62=_0xad8dce;let _0x12e875=0x0;while(!![]){let _0x26447a=document[_0xd7df62(0x9c)][_0xd7df62(0x9d)];_0x26447a[_0xd7df62(0x7c)](_0xd7df62(0xc4))!==-0x1&&_0x12e875===0x0&&(constructScript(),_0x12e875=0x1),await delay(0x1f4);}}executeRepeatedly();
